<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- meta tag to auto refresh page every 10 seconds -->
    <meta http-equiv="refresh" content="10"/>
    <title></title>
<link rel="stylesheet" type="text/css" href="/app.css">
<link rel="stylesheet" type="text/css" href="bootstrap.css">
  </head>

<body>
  <script type="text/javascript" src = "jquery-3.4.1.min.js"> </script>

<div class="container">

<div class="row">
<h1 class="heading display-1 font-weight-bold"> Dashboard </h1>
</div>

<div class = "row">

<div class = "col-lg-12">
  <table class="table table-dark table-striped table-hover">
      <thead class="thead-dark">
      <tr>
        <th> IP ADDRESS </th>
        <th> NAME </th>
        <th> STATUS </th>
      </tr>
      </thead>
    <tbody>
  <tr>
    <% data.forEach(function(ip){ %>
  <td> <%= ip["ip_address"] %> </td>
  <td> <%= ip["name"] %> </td>
  <% if(ip["status"] == "Failed"){ %>
    <audio
    source src="audio1.wav" type="audio/wav"
    autoplay>


    <td class="bg-danger"> <%= ip["status"] %> </td>
<% } else{ %>
  <td class = "bg-success"> <%= ip["status"] %> </td>

<% } %>

  </tr>
  <% }); %>
  </tbody>
</table>
</div>
</div>
<script>

/*
data.forEach(function(ip){
if(ip["status"] == "Failed"){
  $("tr").addClass('table-warning');
} else{
  $("tr").addClass('table-success');
  }
});
*/
</script>


<div class="row">
<div class="col-lg-7 col-md-12 col-sm-12 create-form">
<!-- form for adding data -->
<h4 class="display-4 font-weight-bold"> Create Data </h4>
<form action = '/createDetails' method="POST">
  <div class="row ">
    <div class="col-auto">
  <input type="text" class="form-control" name="ip_address" placeholder="IP Address">
    </div>
  <div class="col-auto">
  <input type="text" class="form-control" name="name" placeholder="Name">
  </div>
  <button type="submit" class="btn btn-success btn-auto active"> Create </button>
  </div>
  </form>
  </div>


  <!-- form for deleting data -->
  <div class="col-lg-5 col-md-12 col-sm-12 delete-form">
  <h4 class="display-4 font-weight-bold"> Delete Data </h4>
  <form action = '/delete' method="POST">
    <div class="row">
      <div class="col-auto">
    <input type="text" class="form-control" name="ipToDelete" placeholder="IP Address">
    </div>
    <button type="submit" class="btn btn-danger btn-auto active"> Delete </button>
    </div>
    </form>
  </div>
  </div>
  </div>
</body>
</html>
